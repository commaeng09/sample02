<!DOCTYPE html>
<html lang="kr">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="title" content="inha">
<meta name="Keywords" content="인하공전 온라인 전시">
<meta name="Description" content="인하공전 온라인 전시">
<meta name="Publisher" content="framebrace">
<meta name="application-name" content="인하공전 온라인 전시">
<meta name="apple-mobile-web-app-title" content="인하공전 온라인 전시">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<meta name="msapplication-TileImage" content="favicon/ms/tileimage_144x144.png">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-square70x70logo" content="favicon/ms/small_tile_70x70.png">
<meta name="msapplication-square150x150logo" content="favicon/ms/medium_tile_150x150.png">
<meta name="msapplication-wide310x150logo" content="favicon/ms/wide_tile_310x150.png">
<meta name="msapplication-square310x310logo" content="favicon/ms/large_tile_310x310.png">
<!--// 페이스북 정보 //-->
<meta property="og:site_name" content="인하공전 온라인 전시">
<meta property="og:title" content="인하공전 온라인 전시">
<meta property="og:description" content="인하공전 온라인 전시">
<meta property="og:type" content="website">
<meta property="og:image" content="http://www.dots.co.kr/images/main/logo.png" />
<meta property="og:url" content="http://www.dots.co.kr/">
<!--// 트위터 정보 //-->
<meta name="twitter:title" value="인하공전 온라인 전시" />
<meta name="twitter:description" value="인하공전 온라인 전시" />
<meta name="twitter:image" content="http://www.dots.co.kr/images/main/logo.png" />
<meta name="twitter:url" content="http://www.dots.co.kr/" />
<!--//
<link rel="shortcut icon" href="img/common/favicon.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon16.png">
<link rel="icon" type="image/png" sizes="30x30" href="favicon/favicon30.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon32.png">
<link rel="icon" type="image/png" sizes="48x48" href="favicon/favicon48.png">
<link rel="icon" type="image/png" sizes="60x60" href="favicon/favicon60.png">
<link rel="icon" type="image/png" sizes="64x64" href="favicon/favicon64.png">
<link rel="icon" type="image/png" sizes="90x90" href="favicon/favicon90.png">
<link rel="icon" type="image/png" sizes="96x96" href="favicon/favicon96.png">
<link rel="icon" type="image/png" sizes="160x160" href="favicon/favicon160.png">
<link rel="icon" type="image/png" sizes="192x192" href="favicon/favicon192.png">
<link rel="icon" type="image/png" sizes="196x196" href="favicon/favicon196.png">
<link rel="apple-touch-icon" href="images/icon/logo_120.png">
<link rel="apple-touch-icon" href="images/icon/logo_76.png" sizes="76x76">
<link rel="apple-touch-icon" href="images/icon/logo_120.png" sizes="120x120">
<link rel="apple-touch-icon" href="images/icon/logo_152.png" sizes="152x152">
<link rel="apple-touch-icon" href="images/icon/logo_180.png" sizes="180x180">
<link rel="apple-touch-icon" href="images/icon/logo_192.png" sizes="192x192">
 //-->
<title>인하공전 온라인 전시</title>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.3.4/gsap.min.js"></script>
<!--//<script src="js/script.js"></script>//-->

<link href="css/common.css" type="text/css" rel="stylesheet"/>
<link href="https://www.spin360.co.kr/360/_CSS/iframe_resize_css/Response_Media_Query.css" type="text/css" rel="stylesheet"/>
</head>
<style>

</style>
<body>
<div class="wrap">
	<!-- <div class="test" data-file="sample_">sample_</div> -->
	<!-- <div class="test" data-file="list001_01">list001_01</div>
	<div class="test" data-file="list001_02">list001_02</div>
	<div class="test" data-file="list001_03">list001_03</div>
	<div class="test" data-file="list001_04">list001_04</div>
	<div class="test" data-file="list001_03">list001_05</div>
	<div class="test" data-file="list001_04">list001_06</div>
	<div class="test" data-file="list001_03">list001_07</div>
    <div class="test" data-file="list01_02021">list01_02021</div> -->
    
	
	<div class="test" data-file="l01_02021">L01_02021</div>
	<div class="test" data-file="l01_02022">L01_02022</div>
	<div class="test" data-file="l01_04041">L01_04041</div>
	<div class="test" data-file="l01_04051">L01_04051</div>
	<div class="test" data-file="l01_05061">L01_05061</div>
	<div class="test" data-file="l01_13041">L01_13041</div>
	<div class="test" data-file="l01_14061">L01_14061</div>
	<div class="test" data-file="l01_15021">L01_15021</div>
	<div class="test" data-file="l01_17051">L01_17051</div>
	<div class="test" data-file="l01_19061">L01_19061</div>
	<div class="test" data-file="l01_20061">L01_20061</div>
	<div class="test" data-file="l01_21061">L01_21061</div>
	<div class="test" data-file="l01_22011">L01_22011</div>
	<div class="test" data-file="l01_22012">L01_22012</div>
	<div class="test" data-file="l01_22013">L01_22013</div>
	<div class="test" data-file="l01_22041">L01_22041</div>
	<div class="test" data-file="L01_23011">L01_23011</div>
    <div class="test" data-file="L01_23021">L01_23021</div>
    <div class="test" data-file="L01_23041">L01_23041</div>
	<div class="test" data-file="L01_23051">L01_23051</div>
	<div class="test" data-file="L01_24041">L01_24041</div>

    
    
	<!-- <div class="main">
	</div>
	<div class="main1">
	</div>
	<div class="list">
	</div>
	<div class="linc">
	</div> -->
	<div class="detail"></div>
	<!--<div class="footer">
		<p>22212 인천광역시 미추홀구 인하로100 인하공업전문대학 TEL.032 870-2114<br/>
		COPYRIGHT© INHA TECHNICAL COLLEGE. ALL RIGHTS RESERVED</p>
	</div> -->
</div>
</body>
<script>

function makeBTN(layer,n)
{
	layer.on("mouseover", function (e) {
		$(this).css("opacity",n);
    });
	layer.on("mouseout", function (e) {
		$(this).css("opacity",0);
    });
}
function subClose()
{
	$(".con2 .subcon").css("display","none");
	$(".con3 .subcon").css("display","none");
	$(".con4 .subcon").css("display","none");
	$(".con5 .subcon").css("display","none");
	$(".con2 .subtitle").css("display","block");
	$(".con3 .subtitle").css("display","block");
	$(".con4 .subtitle").css("display","block");
	$(".con5 .subtitle").css("display","block");
}
$(document).ready(function() {
//---------------document ready
makeBTN($(".main .main1_cover"),1);
$(".main .main1_cover").click(function()
{
	$(".main1").css("display","block");	
	$(".main").css("display","none");		
});
makeBTN($(".main1 .main1_btn1"),1);
$(".main1 .main1_btn1").click(function()
{
	gsap.to($(".linc"),{duration:.5,top:0});	
	//$(".main1 .main1_close_btn").click();
});
makeBTN($(".main1 .main1_btn2"),1);
$(".main1 .main1_btn2").click(function()
{
	$(".list").css("display","block");	
	$(".main1 .main1_close_btn").click();
});
makeBTN($(".main1 .main1_close_btn"),.2);
$(".main1 .main1_close_btn").click(function()
{
	$(".main").css("display","block");	
	$(".main1").css("display","none");		
});
$(".list .list_main_btn").click(function()
{
	$(".main").css("display","block");	
	$(".list").css("display","none");		
});
$(".linc .list_main_btn").click(function()
{
	$(".main1 .main1_close_btn").click();
	gsap.to($(".linc"),{duration:.3,top:$(window).height()});		
});
$(".linc .linc_close_btn").click(function()
{
	gsap.to($(".linc"),{duration:.3,top:$(window).height()});		
});
for(var i = 2 ; i < 15 ; i++)
{
	var t = Math.floor(i/6)*331 + 720;
	var l = i%6 * 245 + 240;
	$(".list .list_btn"+i).css("top",t+"px");
	$(".list .list_btn"+i).css("left",l+"px");
}
$(".list .btn").click(function()
{
	gsap.to($(".detail"),{duration:.5,top:0});	
});

var $dragging = null,points={},movePoints={};
$(".main .bg").css("left",($(window).width()-1920)/2+"px");
$(".main .bg").css("top","0px");
$(".main1").css("left",($(window).width()-1920)/2+"px");
/*
$(".list").css("left",($(window).width()-1920)/2+"px");
$(".linc").css("left",($(window).width()-1920)/2+"px");
$(".detail").css("left",($(window).width()-1920)/2+"px");*/
$(document.body).on("mousemove", function(e) {
	e.preventDefault();
	if ($dragging) {
		$dragging.offset({
			top: e.pageY-points.y+movePoints.y,
			left: e.pageX-points.x+movePoints.x
		});
	}
});
/*
$(document.body).on("mousedown", ".main .bg", function (e) {
	$dragging = $(e.target);
	points = {x:e.clientX,y:e.clientY};
	console.log(e.clientX,e.clientY);
});
*/
$(".main .bg").on("mousedown",  function (e) {
	e.preventDefault();
	$dragging = $(this);
	points = {x:e.clientX,y:e.clientY};
	console.log($dragging,e.clientX,e.clientY);
});
$(document.body).on("mouseup", function (e) {
	if(!$dragging) return; 
	movePoints = {x:$dragging.offset().left,y:$dragging.offset().top};
	console.log(movePoints.x,movePoints.y);
	$dragging = null;
});
gsap.to($(".detail"),{duration:0,y:$(window).height()});	
//gsap.to($(".detail"),{duration:.3,y:0});	
//$("body").scrollTop(0);

 $('.test').click(function() {
	console.log($(this).data("file"));
	loadDetailData($(this).data("file"));
 });

resizeF();

//loadDetailData("l1t1");
//---------------document ready
});
$(window).resize(function(){
	resizeF();
});
function resizeF()
{
	var w = $(window).width();
	if(w<1920 && w>1024)
	{
		$(".detail-header").css("width",$(window).width());
		$(".detail-header").css("left",(1920-$(window).width())/2+"px");
	}
}
function loadDetailData(id)
{
	console.log('data/'+id+'.html');
	$(".detail").load("data/"+id+".html",function()
	{
		console.log('complete');
		setDetailBTN();
		resizeF();
	});
	
}
var sliders = [];
function setDetailBTN()
{
	gsap.to($(".detail"),{duration:.3,y:0});	
	$(".detail .closeBTN").click(function()
	{
		subClose();
		gsap.to($(".detail"),{duration:.3,y:$(window).height()});
		setTimeout(function()
		{
			$(".detail").html("");	
			//$(".detail").css("height","0px");	
		},300);
	});
	$(".con2 .subtitle").click(function()
	{
		$(".con2 .subcon").css("display","block");
		$(".con2 .subtitle").css("display","none");
	});
	$(".con2 .btn-close").click(function()
	{
		$(".con2 .subtitle").css("display","block");
		$(".con2 .subcon").css("display","none");
	});
	$(".con3 .subtitle").click(function()
	{
		$(".con3 .subcon").css("display","block");
		$(".con3 .subtitle").css("display","none");
	});
	$(".con3 .btn-close").click(function()
	{
		$(".con3 .subtitle").css("display","block");
		$(".con3 .subcon").css("display","none");
	});
	$(".con4 .subtitle").click(function()
	{
		$(".con4 .subcon").css("display","block");
		$(".con4 .subtitle").css("display","none");
	});
	$(".con4 .btn-close").click(function()
	{
		$(".con4 .subtitle").css("display","block");
		$(".con4 .subcon").css("display","none");
	});
	$(".con5 .subtitle").click(function()
	{
		$(".con5 .subcon").css("display","block");
		$(".con5 .subtitle").css("display","none");
	});
	$(".con5 .btn-close").click(function()
	{
		$(".con5 .subtitle").css("display","block");
		$(".con5 .subcon").css("display","none");
	});
	for(var item in sliders)
	{
		item = null;
	}
	sliders = [];
	$(".detail .img-slide").each(function(index, item){
		var slider = new SlideImgs(item);
		sliders.push(slider);
	});

}

class SlideImgs
{
    constructor(slideEl)
    {
        this._imgsA = $(slideEl).find(".img");
		this._imgs = $(slideEl).find(".imgs")[0];
		
		$(this._imgs).css("width",1170*this._imgsA.length);
		this._btnLeft = $(slideEl).find(".slide-btn-left")[0];
		this._btnRight = $(slideEl).find(".slide-btn-right")[0];

		this.moving = false;
		this.currentIdx = 0;
		let THIS = this;
		$(this._btnLeft).bind('click',function(event){
			if(THIS.moving == false)
			{
				event.preventDefault();
				console.log("_btnLeft");
				THIS.goLeft();
			}
        });
		$(this._btnRight).bind('click',function(event){
            if(THIS.moving == false)
			{
				event.preventDefault();
				console.log("_btnRight");
				THIS.goRight();
			}
        });
	}
	goLeft()
	{
		if(this.currentIdx-1>=0)
		{
			this.moving = true;
			let THIS = this;
			this.currentIdx--;
			gsap.to(this._imgs,{duration:.3, x:-(this.currentIdx)*1170, ease: Power2.out, onComplete: function(){
				THIS.moving = false;
			}});
		}
	}
	goRight()
	{
		if(this.currentIdx+1<this._imgsA.length)
		{
			this.moving = true;
			let THIS = this;
			this.currentIdx++;
			gsap.to(this._imgs,{duration:.3, x:-(this.currentIdx)*1170, ease: Power2.out, onComplete: function(){
				THIS.moving = false;
			}});
		}
	}
	/*
        this._initTop = initTop? initTop:0;
        this.imgL = $('<div class="img-cell">');
        this.rectA = [375,469];
        this._imgs = imgsA.reverse();
        this.totalImgNum = this._imgs.length;
        this.loadCompNum = 0;
        this._idx = idx;
        this._thumb = $('<div class="thumb"/>');
        this._thumbW = $('<div class="thumb-wrap"/>');
        //this._contents = $(".detail .contents");
        //this._thumbW.css("top",this.tops[idx]+"px");
        this._imgT = null;
        let THIS = this;
        this._imgsA = [];
        this._imgTA = [];
        this._imgRectA = [];
        this.angleA = [60,60,65,65,70];
        this._imgs.forEach(
            function(element,i)
            {
                let imgT = THIS.imgL.clone();
                let toonDir = idx+1;
                toonDir = (toonDir<10)? "0"+toonDir:toonDir;
                let img = $("<img src='img/toons/"+toonDir+"/detail/"+element+"' class='absImg thumb-img"+(i)+"'/>");
                imgT.append(img);
                THIS._imgTA[i] = imgT;
                img.load(function(){
                    THIS.loadComplete(this,i);
                });
                THIS._imgsA[i] = img;
                THIS._thumbW.append(imgT);
            }
        );
        let coverImgT = THIS.imgL.clone();
        let coverImg = $("<img src='img/cover/cover"+(idx+1)+"@2x.png'/>");
        coverImgT.append(coverImg);
        this._thumbW.append(coverImgT);
        coverImgT.css("bottom","-10px"); 
        coverImg.load(function(){
            $(this).css("width",375+"px");
            $(this).css("height",612+"px");
        });
        let uiImgT = THIS.imgL.clone();
        let uiImg = $("<img src='img/btns_top@2x.png'/>");
        uiImgT.append(uiImg);
        this._thumbW.append(uiImgT);
        uiImgT.css("top","10px"); 
        uiImg.load(function(){
            $(this).css("width",375+"px");
            $(this).css("height",79+"px");
        });
        
        this._thumb.css("top",this._initTop);
        this._thumb.append(this._thumbW);
        this.oy = 0;
    }
    loadComplete(obj,i)
    {
        this.loadCompNum++;
        var ww = obj.naturalWidth/2;
        var hh = obj.naturalHeight/2;
        //console.log(obj.src,ww,hh,this.totalImgNum);
        if(obj.src.indexOf("title.png") > 0)
        {
            $(this._imgTA[i]).addClass("thumb-title");
            $(this._imgTA[i]).appendTo(this._thumbW);
            $(this._imgTA[i]).css("width",ww+"px");
            $(this._imgTA[i]).css("height",hh+"px");
            $(obj).css("width",ww+"px");
            $(obj).css("height",hh+"px");
        }
        else{
            this._imgRectA[i] = {w:ww,h:hh};
            $(this._imgTA[i]).css("width",ww+"px");
            $(this._imgTA[i]).css("height",hh+"px");
            $(this._imgTA[i]).css("top",this.makeY(hh)+"px");
            $(this._imgTA[i]).css("left",this.makeX(ww)+"px");
            $(obj).css("width",ww+"px");
            $(obj).css("height",hh+"px");
        } 
        if(this.loadCompNum == this.totalImgNum)
        {
            this.rePosition(true);
        }
    }
    readyRePosition(initTop)
    {
        this._initTop = initTop? initTop:44;
        this._thumb.css("top",this._initTop+"px");
        this._thumb.css("height","469px");
        this._thumb.css("display","block");
        this.rePosition(false);
    }
    rePosition(notCB)
    {
        let THIS = this;
        this.rectA = [375,768];
        gsap.to(this._thumb,{duration:.3, top:44, height:768, ease: Power2.out, onComplete: function(){
            THIS._mom.onBg();
        }});
        var tw,th;
        this._imgTA.forEach(
            function(obj,j,arr)
            {
                if(THIS._imgRectA[j])
                {
                    tw = obj.width(); th = obj.height();
                    gsap.to(obj,{duration:.3, top:THIS.makeY(th), left:THIS.makeX(tw), ease: Power2.out});
                }   
            }
        )	
        //if(this._idx == this._mom.currnetIdx) setTimeout(function(){THIS.zoom();},500);	
        if(this._idx == this._mom.currnetIdx && notCB) setTimeout(function(){THIS.callback();},500);	
    }
    callback()
    {
        this._mom.makeAllTopImgs();
    }
    zoom()
    {
        let THIS = this;
        let tw,th;
        this._imgsA.forEach(
            function(obj,j,arr)
            {
                if(THIS._imgRectA[j])
                {
                    tw = obj.width(); th = obj.height();
                    if(j == 0)
                    {
                        tw = obj.width()*.5; th = obj.height()*.5;
                    }
                    else //if (j == arr.length-1)
                    {
                        tw = obj.width()*1.5; th = obj.height()*1.5;
                    }
                    THIS._imgRectA[j] = {w:tw,h:th};
                    gsap.to(obj,{duration:.7, top:THIS.makeY(th), left:THIS.makeX(tw),width:tw,height:th, ease: Power2.out});
                    gsap.to(THIS._imgTA[j],{duration:.7, top:THIS.makeY(th), left:THIS.makeX(tw),width:tw,height:th, ease: Power2.out});
                }   
            }
        )
    }
    setImgPos(b,g)
    {
        let THIS = this;
        this._imgTA.forEach(
            function(obj,j)
            {
                if(THIS._imgRectA[j])
                {
                    //console.log(THIS._imgRectA[j].w,THIS._imgRectA[j].h);
                    obj.css("left",modulate(g, [-THIS.angleA[j], THIS.angleA[j]], [0,-(THIS._imgRectA[j].w-THIS.rectA[0])],true)+"px");
                    if(b>30 && b<80) obj.css("top",modulate(b, [30, 89], [0,-(THIS._imgRectA[j].h-THIS.rectA[1])],false)+"px");		
                }   
            }
        )		
    }
    makeX(n){return -(n-this.rectA[0])/2;}
    makeY(n){return -(n-this.rectA[1])/2;}
    showCont()
    {
        this._thumb.append(this._contents);
        //this._contents.css("display","block");
        //this._contents.css("top","500px");
    }
    rollingChar(n)
    {
        console.log("rollingChar:", n);
    }
    getTy()
    {
        return this.oy;
    }
    setTy(ty,isEnd,ttyC)
    {
        ty += this.oy;
        if(ty > 0) ty = ty/Math.log(ty);
        this._thumb.css("transform","translate(0px,"+ty+"px)");
        
        if(isEnd)
        {
            var tty = ty;
            tty = Math.floor(tty + ttyC);
            if(tty == -0|| tty > 0 || ty > 0) tty = 0;
            if(tty < -12651) tty = -12651;
            gsap.fromTo(this._thumb,{y:ty},{duration:1, y:tty,onComplete: function(){}});
            this.oy = tty; 
        }
    }

	*/
}
</script>
</html>